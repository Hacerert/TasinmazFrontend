<!-- TaÅŸÄ±nmaz YÃ¶netimi - Admin Paneli Stili -->
<div class="container mx-auto p-6 bg-gray-50 min-h-screen rounded-xl shadow-2xl">
  <div class="mb-8 border-b-2 border-gray-200 pb-4">
    <h1 class="text-4xl font-extrabold text-gray-900 tracking-tight">TaÅŸÄ±nmaz YÃ¶netimi</h1>
    <div class="flex justify-end space-x-2 mt-4">
      <!-- Yeni TaÅŸÄ±nmaz Ekle Butonu -->
      <button
        (click)="addTasinmaz()"
        style="background-color: #2563eb; color: white; padding: 8px 16px; border-radius: 6px; font-weight: 600; font-size: 14px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); transition: background-color 0.2s ease; border: none; cursor: pointer;"
        onmouseover="this.style.backgroundColor='#1d4ed8';"
        onmouseout="this.style.backgroundColor='#2563eb';"
      >
        TaÅŸÄ±nmaz Ekle
      </button>
      <!-- SeÃ§ilenleri Sil Butonu -->
      <button
        (click)="deleteSelectedTasinmazlar()"
        style="background-color: #2563eb; color: white; padding: 8px 16px; border-radius: 6px; font-weight: 600; font-size: 14px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); transition: background-color 0.2s ease; border: none; cursor: pointer;"
        [disabled]="selectedTasinmazIds.length === 0"
        [style.opacity]="selectedTasinmazIds.length === 0 ? '0.5' : '1'"
        [style.cursor]="selectedTasinmazIds.length === 0 ? 'not-allowed' : 'pointer'"
        onmouseover="if (!this.disabled) { this.style.backgroundColor='#1d4ed8'; }"
        onmouseout="if (!this.disabled) { this.style.backgroundColor='#2563eb'; }"
      >
        Sil ({{ selectedTasinmazIds.length }})
      </button>
      
      <!-- Excel'e Aktar Butonu -->
      <button
        (click)="exportToExcel()"
        style="background-color: #059669; color: white; padding: 8px 16px; border-radius: 6px; font-weight: 600; font-size: 14px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); transition: background-color 0.2s ease; border: none; cursor: pointer;"
        onmouseover="this.style.backgroundColor='#047857';"
        onmouseout="this.style.backgroundColor='#059669';"
        title="TaÅŸÄ±nmazlarÄ± Excel'e Aktar"
      >
        ðŸ“Š Excel'e Aktar
      </button>
      <!-- Ã‡Ä±kÄ±ÅŸ Yap Butonu -->
      <button
        (click)="logout()"
        style="background-color: #dc2626; color: white; padding: 8px 14px; border-radius: 6px; font-weight: 600; font-size: 14px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); transition: background-color 0.2s ease;"
        onmouseover="this.style.backgroundColor='#b91c1c';"
        onmouseout="this.style.backgroundColor='#dc2626';"
      >
        Ã‡Ä±kÄ±ÅŸ
      </button>
    </div>
  </div>

  <!-- Hata MesajÄ± -->
  <div *ngIf="error" class="bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg relative mb-6 shadow-md" role="alert">
    <strong class="font-bold text-lg">Hata!</strong>
    <span class="block sm:inline ml-3 text-base">{{ error }}</span>
  </div>

  <!-- YÃ¼kleniyor MesajÄ± -->
  <div *ngIf="loading" class="text-center py-12 text-gray-600 text-xl font-medium">
    TaÅŸÄ±nmazlar yÃ¼kleniyor... LÃ¼tfen bekleyin.
  </div>

  <!-- TaÅŸÄ±nmazlar Tablosu -->
  <div *ngIf="!loading && tasinmazlar.length > 0" class="overflow-x-auto bg-white rounded-xl shadow-lg p-6">
    <table class="min-w-full leading-normal table-auto">
      <thead>
        <tr class="bg-gray-100 text-gray-700 uppercase text-sm font-semibold border-b-2 border-gray-300">
          <th class="px-6 py-4 text-left tracking-wider">
            <input type="checkbox" (change)="toggleSelectAll($event)" class="transform scale-110">
          </th>
          <th class="px-6 py-4 text-left tracking-wider">ID</th>
          <th class="px-6 py-4 text-left tracking-wider">Ada</th>
          <th class="px-6 py-4 text-left tracking-wider">Parsel</th>
          <th class="px-6 py-4 text-left tracking-wider">Adres</th>
          <th class="px-6 py-4 text-left tracking-wider">Koordinat</th>
          <th class="px-6 py-4 text-left tracking-wider">Mahalle ID</th>
          <th class="px-6 py-4 text-center tracking-wider">Ä°ÅŸlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tasinmaz of tasinmazlar" class="border-b border-gray-100 hover:bg-gray-50 transition duration-150 ease-in-out">
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">
            <input type="checkbox" 
                   [checked]="selectedTasinmazIds.includes(tasinmaz.id!)" 
                   (change)="onCheckboxChange(tasinmaz.id!, $event)"
                   class="transform scale-110">
          </td>
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">{{ tasinmaz.id }}</td>
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">{{ tasinmaz.ada }}</td>
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">{{ tasinmaz.parsel }}</td>
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">{{ tasinmaz.adres }}</td>
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">{{ tasinmaz.koordinat }}</td>
          <td class="px-6 py-4 text-base text-gray-800 whitespace-nowrap">{{ tasinmaz.mahalleId }}</td>
          <td class="px-6 py-4 text-base text-gray-800 text-center">
            <div class="flex items-center justify-center space-x-4">
              <!-- DÃ¼zenle Butonu -->
              <button (click)="editTasinmaz(tasinmaz.id!)"
                      class="text-blue-600 hover:text-blue-800 transition duration-150 transform hover:scale-110 focus:outline-none"
                      title="TaÅŸÄ±nmazÄ± DÃ¼zenle">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- TaÅŸÄ±nmaz Yok MesajÄ± -->
  <div *ngIf="!loading && tasinmazlar.length === 0 && !error" class="text-center py-12 text-gray-600 bg-white rounded-xl shadow-lg">
    <p class="text-xl font-semibold mb-4">HenÃ¼z hiÃ§ taÅŸÄ±nmaz bulunmamaktadÄ±r.</p>
    <p class="text-base">Yeni taÅŸÄ±nmazlar eklendiÄŸinde burada gÃ¶rÃ¼neceklerdir.</p>
  </div>
</div>

<!-- Modal Pop-up -->
<div *ngIf="showModal" class="fixed inset-0 bg-gray-600 bg-opacity-75 flex items-start justify-center pt-20 z-[9999]">
  <div class="bg-white rounded-lg p-8 shadow-2xl w-full max-w-md mx-4 border-2 border-gray-200 animate-fadeIn">
    <div class="text-center">
      <!-- UyarÄ± Ä°konu -->
      <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4">
        <svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z" />
        </svg>
      </div>
      
      <h3 class="text-lg font-semibold text-gray-900 mb-2">Silme OnayÄ±</h3>
      <p class="mb-6 text-base text-gray-600 leading-relaxed">{{ modalMessage }}</p>
      
      <div class="flex justify-center space-x-4">
        <button 
          (click)="confirmAction()" 
          class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition duration-200 font-semibold text-sm shadow-lg">
          Evet, Sil
        </button>
        <button 
          (click)="closeModal()" 
          class="bg-gray-300 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-400 transition duration-200 font-semibold text-sm shadow-lg">
          Ä°ptal
        </button>
      </div>
    </div>
  </div>
</div>
